<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="card-header">
        <div class="row">
          <div class="col-md-6">
            <h5 class="card-title">Cadastrar Usuários</h5>
          </div>
          <div class="col-md-6 text-right">
            <a [routerLink]="['/usuarios/listar']" class="btn btn-primary btn-round">
              Voltar
            </a>
          </div>
        </div>
      </div>
      <div class="card-body">
        <form [formGroup]="formularioUsuario" (ngSubmit)="cadastrarUsuario()">
          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label>Nome</label>
                <input formControlName="name" type="text" class="form-control" 
                  [ngClass]="{'is-invalid': formularioUsuario.get('name').errors && formularioUsuario.get('name').touched}" 
                  placeholder="Digite o nome do usuário">
                <div *ngIf="formularioUsuario.get('name').hasError('required') && formularioUsuario.get('name').touched" class="invalid-feedback">
                  Campo obrigatório!
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label>E-mail</label>
                <input formControlName="email" type="email" class="form-control"
                  [ngClass]="{'is-invalid': formularioUsuario.get('email').errors && formularioUsuario.get('email').touched}"
                  placeholder="Digite o e-mail do usuário">
                <div *ngIf="formularioUsuario.get('email').hasError('required') && formularioUsuario.get('email').touched" class="invalid-feedback">
                  Campo obrigatório!
                </div>
                <div *ngIf="formularioUsuario.get('email').hasError('email') && formularioUsuario.get('email').touched" class="invalid-feedback">
                  Email inválido!
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label>Perfil</label>
                <select formControlName="perfil_id" class="form-control" 
                  [ngClass]="{'is-invalid': formularioUsuario.get('perfil_id').errors && formularioUsuario.get('perfil_id').touched}">
                  <option value="" disabled>Selecione</option>
                  <option *ngFor="let perfil of perfis" [value]="perfil?.id">{{perfil.descricao}}</option>
                </select>
                <div *ngIf="formularioUsuario.get('perfil_id').hasError('required') && formularioUsuario.get('perfil_id').touched" class="invalid-feedback">
                  Campo obrigatório!
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label>Status</label>
                <select class="form-control" disabled>
                  <option value="" disabled>Ativo</option>
                </select>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-3">
              <div class="form-group">
                <label>Imagem do Perfil</label>
                <br>
                <div class="fileUpload btn btn-primary">
                  <span>Selecionar Imagem</span>
                  <input type="file" class="upload" id="imagem" name="imagem" (change)="carregarImagem($event)">
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label>Nova Senha</label>
                <input formControlName="password" type="password" class="form-control" 
                  [ngClass]="{'is-invalid': formularioUsuario.get('password').errors && formularioUsuario.get('password').touched}"
                  placeholder="******">
                <div *ngIf="formularioUsuario.get('password').hasError('required') && formularioUsuario.get('password').touched" class="invalid-feedback">
                  Campo obrigatório!
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label>Confirmar Nova Senha</label>
                <input formControlName="confimarSenha" type="password" class="form-control" 
                  [ngClass]="{'is-invalid': formularioUsuario.get('confimarSenha').errors && formularioUsuario.get('confimarSenha').touched}"
                  placeholder="******">
                <div *ngIf="formularioUsuario.get('confimarSenha').hasError('required') && formularioUsuario.get('confimarSenha').touched" class="invalid-feedback">
                  Campo obrigatório!
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="update ml-auto mr-auto">
              <button [disabled]="formularioUsuario.invalid" type="submit"
                class="btn btn-primary btn-round">Salvar</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
